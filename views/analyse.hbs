<div class="breadcrumbs" id="breadcrumbs">
  <ul class="breadcrumb">
    <li>
      <i class="icon-home home-icon"></i>
      <a href="/index">主页</a>
    </li>
    <li>
      <a href="#">理财业务分流管理</a>
    </li>
    <li class="active">业务分析</li>
  </ul>
</div>

<div class="page-content">
  <div class="page-header">
    <h1>
      理财业务分流管理
      <small>
        <i class="icon-double-angle-right"></i>
        业务分析
      </small>
    </h1>
  </div>

  <div class="space-6"></div>
  <div class="row" ng-app="myApp" ng-controller="myCtrl">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-12">
          <form class="form-inline" name="myForm" novalidate>
            <div class="form-group">
              <label for="exampleInputEmail2">起始时间</label>
              <input type="date" class="form-control" name="fromDate" ng-model="model.fromDate" placeholder="起始时间" required>
            </div>
            <div class="form-group">
              <label for="exampleInputEmail2">截止时间</label>
              <input type="date" class="form-control" name="toDate" ng-model="model.toDate" placeholder="截止时间" required>
            </div>
            <button type="button" class="btn btn-primary btn-analyse" ng-click="onAnalyse()" ng-disabled="myForm.fromDate.$pristine
                                                                                                          || (myForm.fromDate.$dirty && myForm.fromDate.$invalid)
                                                                                                          || myForm.toDate.$pristine
                                                                                                          || (myForm.toDate.$dirty && myForm.toDate.$invalid)">
              <span class="glyphicon glyphicon-stats"></span>
              分析
            </button>
          </form>
        </div>
      </div>
      <div class="space-6"></div>
      <div class="row">
        <div class="col-md-8">
          <div class="table-header">
            理财经理业务数据分析
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover no-margin-bottom">
              <thead>
              <tr>
                <th class="center">理财经理</th>
                <th>业务量</th>
                <th>空闲</th>
                <th>繁忙</th>
                <th>离开</th>
                <th>离岗</th>
              </tr>
              </thead>
              <tbody>
                <tr ng-repeat="analyseData in model.financialBusinessAnalyse"
                    ng-class="{'warning': model.currentSelectedFinancialIndex == $index}"
                    ng-click="getFinancialCallbackAnalyse($index, analyseData.financialID)">
                  <td class="center" ng-bind="analyseData.financialName"></td>
                  <td class="center" ng-bind="analyseData.processedBusinessCount"></td>
                  <td class="center" ng-bind="analyseData.waitTotalTime"></td>
                  <td class="center" ng-bind="analyseData.busyTotalTime"></td>
                  <td class="center" ng-bind="analyseData.leaveTotalTime"></td>
                  <td class="center" ng-bind="analyseData.offDutyTotalTime"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="col-md-4">
          <div class="table-header">
            理财经理回呼数据分析
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover no-margin-bottom">
              <thead>
              <tr>
                <th>回呼内容</th>
                <th>总量</th>
              </tr>
              </thead>
              <tbody>
                <tr ng-repeat="analyseData in model.financialCallbackAnalyse">
                  <td ng-bind="analyseData.callbackMsg"></td>
                  <td ng-bind="analyseData.processedCallbackCount"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="space-6"></div>
      <div class="row">
        <div class="col-md-8">
          <div class="table-header">
            大堂经理业务数据分析
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover no-margin-bottom">
              <thead>
              <tr>
                <th class="center">大堂经理</th>
                <th>发送量</th>
                <th>回呼处理量</th>
              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="analyseData in model.lobbyBusinessAnalyse"
                  ng-class="{'warning': model.currentSelectedLobbyIndex == $index}"
                  ng-click="getLobbyCallbackAnalyse($index, analyseData.lobbyID)">
                <td class="center" ng-bind="analyseData.lobbyName"></td>
                <td class="center" ng-bind="analyseData.processedBusinessCount"></td>
                <td class="center" ng-bind="analyseData.processedCallbackCount"></td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="col-md-4">
          <div class="table-header">
            大堂经理回呼数据分析
          </div>
          <div class="table-responsive">
            <table id="data-list" class="table table-striped table-bordered table-hover no-margin-bottom">
              <thead>
              <tr>
                <th>回呼内容</th>
                <th>总量</th>
              </tr>
              </thead>
              <tbody>
                <tr ng-repeat="analyseData in model.lobbyCallbackAnalyse">
                  <td ng-bind="analyseData.callbackMsg"></td>
                  <td class="align-right" ng-bind="analyseData.processedCallbackCount"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="/javascripts/view/analyse.js"></script>
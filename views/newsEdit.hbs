<!--<link rel="stylesheet" href="/stylesheets/fileUpload/iconfont.css" />-->
<!--<link rel="stylesheet" href="/stylesheets/fileUpload/fileUpload.css">-->
<link rel="stylesheet" href="/stylesheets/ace/bootstrap-datepicker3.min.css" />
<link rel="stylesheet" href="/stylesheets/news.css" />

<link rel="stylesheet" href="/ckeditor/samples/toolbarconfigurator/lib/codemirror/neo.css">

<script src="/ckeditor/ckeditor.js"></script>
<script src="/ckeditor/samples/js/sample.js"></script>


<div class="breadcrumbs" id="breadcrumbs" >
  <ul class="breadcrumb">
    <li>
      <i class="icon-home home-icon"></i>
      <a href="/index">主页</a>
    </li>
    <li>
      <a href="#">营业网点信息管理</a>
    </li>
    <li class="active">新闻管理</li>
  </ul>
</div>

<div class="page-content" ng-app="myApp" ng-controller="myCtrl">
  <div class="page-header">
    <h1>
      新闻管理
      <small>
        <i class="icon-double-angle-right"></i>
        新闻编辑
      </small>
    </h1>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <form class="form-horizontal" name="myForm" novalidate>
        <div class="row">
          <div class="col-xs-12">
            <div class="btn-bar">
              <a href="/news" class="btn btn-default">
                <i class="icon-hand-left"></i>
                返回
              </a>
              <button type="button" class="btn btn-success" ng-click="onSave()" ng-disabled="(myForm.newsTitle.$pristine && model.add)
                                                                          || (myForm.newsTitle.$dirty && myForm.newsTitle.$invalid)
                                                                          || (myForm.newsDate.$pristine && model.add)
                                                                          || (myForm.newsDate.$dirty && myForm.newsDate.$invalid)">
                <i class="icon-save"></i>
                保存
              </button>
            </div>
          </div>
        </div>
        <div class="row news-content">
          <div class="col-xs-2">
            <div class="news-title-thumbnail">
              <img ng-src="\{{model.newsThumbnailUrl}}" alt="">
              <button type="button" class="btn btn-pink" ng-click="onShowDialog()">上传缩略图</button>
            </div>
          </div>
          <div class="col-xs-10">
            <div class="form-group">
              <label for="inputEmail3" class="col-sm-2 control-label">新闻标题</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" maxlength="30" name="newsTitle" ng-model="model.newsTitle" required autofocus>
              </div>
            </div>
            <div class="form-group">
              <label for="inputEmail3" class="col-sm-2 control-label">新闻日期</label>
              <div class="col-sm-8">
                <input type="datetime-local" class="form-control" name="newsDate" ng-model="model.newsDate">
              </div>
            </div>
            <div class="form-group">
              <label for="inputEmail3" class="col-sm-2 control-label">新闻内容</label>
              <div class="col-sm-8">
                <textarea class="form-control" name="detailContent" id="detailContent" ng-model="model.newsContent"></textarea>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="modal fade" tabindex="-1" role="dialog" id="modal-newsThumbnail">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">上传图片（*.jpg, *.jpeg, *.png）请上传1:1比例的图片</h4>
        </div>
        <div class="alert alert-danger store-alert hidden">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <span></span>
        </div>
        <div class="modal-body">
          <div id="file-upload-thumbnail" class="fileUploadContent"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        </div>
      </div>
    </div>
  </div>

</div>

<input type="hidden" value="{{newsID}}" id="hidden-newsID">
<!--<script src="/javascripts/fileUpload/fileUpload.js"></script>-->
<script src="/javascripts/view/newsEdit.js"></script>